const rawFingerings = {
  A: {
    "Fsharp0.png/Gflat0.png": "out of bounds",
    "G0.png": "out of bounds",
    "Gsharp0.png/Aflat0.png": "out of bounds",
    "A0.png": "out of bounds",
    "Asharp0.png/Bflat0.png": "out of bounds",
    "B0.png/Cflat1.png": "out of bounds",
    "C1.png": "1 + 3",
    "Csharp1.png/Dflat1.png": "2 + 3",
    "D1.png": "1 + 2",
    "Dsharp1.png/Eflat1.png": "1",
    "E1.png": "2",
    "F1.png": "0",
    "Fsharp1.png/Gflat1.png": "1 + 2 + 3",
    "G1.png": "1 + 3",
    "Gsharp1.png/Aflat1.png": "2 + 3",
    "A1.png": "1 + 2",
    "Asharp1.png/Bflat1.png": "1",
    "B1.png": "2",
    "C2.png": "0",
    "Csharp2.png/Dflat2.png": "2 + 3",
    "D2.png": "1 + 2",
    "Dsharp2.png/Eflat2.png": "1",
    "E2.png/Fflat2.png": "2",
    "F2.png": "0",
    "Fsharp2.png/Gflat2.png": "1 + 2",
    "G2.png": "1",
    "Gsharp2.png/Aflat2.png": "2 + 3, 2",
    "A2.png": "1 + 2, 0",
    "Asharp2.png/Bflat2.png": "1",
    "B2.png/Cflat3.png": "2",
    "C3.png": "0"
  },
  Bb: {
    "Fsharp0.png/Gflat0.png": "out of bounds",
    "G0.png": "out of bounds",
    "Gsharp0.png/Aflat0.png": "out of bounds",
    "A0.png": "out of bounds",
    "Asharp0.png/Bflat0.png": "1 + 2 + 3",
    "B0.png/Cflat1.png": "1 + 3",
    "C1.png": "2 + 3",
    "Csharp1.png/Dflat1.png": "1 + 2",
    "D1.png": "1",
    "Dsharp1.png/Eflat1.png": "2",
    "E1.png": "0",
    "F1.png": "1 + 2 + 3",
    "Fsharp1.png/Gflat1.png": "1 + 3",
    "G1.png": "2 + 3",
    "Gsharp1.png/Aflat1.png": "1 + 2",
    "A1.png": "1",
    "Asharp1.png/Bflat1.png": "2",
    "B1.png": "0",
    "C2.png": "2 + 3",
    "Csharp2.png/Dflat2.png": "1 + 2",
    "D2.png": "1",
    "Dsharp2.png/Eflat2.png": "2",
    "E2.png/Fflat2.png": "0",
    "F2.png": "1 + 2",
    "Fsharp2.png/Gflat2.png": "1",
    "G2.png": "2 + 3, 2",
    "Gsharp2.png/Aflat2.png": "1 + 2, 0",
    "A2.png": "1",
    "Asharp2.png/Bflat2.png": "2",
    "B2.png/Cflat3.png": "0",
    "C3.png": "2 + 3"
  },
  H: {
    "Fsharp0.png/Gflat0.png": "out of bounds",
    "G0.png": "out of bounds",
    "Gsharp0.png/Aflat0.png": "out of bounds",
    "A0.png": "1 + 2 + 3",
    "Asharp0.png/Bflat0.png": "1 + 3",
    "B0.png/Cflat1.png": "2 + 3",
    "C1.png": "1 + 2",
    "Csharp1.png/Dflat1.png": "1",
    "D1.png": "2",
    "Dsharp1.png/Eflat1.png": "0",
    "E1.png": "1 + 2 + 3",
    "F1.png": "1 + 3",
    "Fsharp1.png/Gflat1.png": "2 + 3",
    "G1.png": "1 + 2",
    "Gsharp1.png/Aflat1.png": "1",
    "A1.png": "2",
    "Asharp1.png/Bflat1.png": "0",
    "B1.png": "2 + 3",
    "C2.png": "1 + 2",
    "Csharp2.png/Dflat2.png": "1",
    "D2.png": "2",
    "Dsharp2.png/Eflat2.png": "0",
    "E2.png/Fflat2.png": "1 + 2",
    "F2.png": "1",
    "Fsharp2.png/Gflat2.png": "2 + 3, 2",
    "G2.png": "1 + 2, 0",
    "Gsharp2.png/Aflat2.png": "1",
    "A2.png": "2",
    "Asharp2.png/Bflat2.png": "0",
    "B2.png/Cflat3.png": "2 + 3",
    "C3.png": "1 + 2"
  },
  C: {
    "Fsharp0.png/Gflat0.png": "out of bounds",
    "G0.png": "out of bounds",
    "Gsharp0.png/Aflat0.png": "1 + 2 + 3",
    "A0.png": "1 + 3",
    "Asharp0.png/Bflat0.png": "2 + 3",
    "B0.png/Cflat1.png": "1 + 2",
    "C1.png": "1",
    "Csharp1.png/Dflat1.png": "2",
    "D1.png": "0",
    "Dsharp1.png/Eflat1.png": "1 + 2 + 3",
    "E1.png": "1 + 3",
    "F1.png": "2 + 3",
    "Fsharp1.png/Gflat1.png": "1 + 2",
    "G1.png": "1",
    "Gsharp1.png/Aflat1.png": "2",
    "A1.png": "0",
    "Asharp1.png/Bflat1.png": "2 + 3",
    "B1.png": "1 + 2",
    "C2.png": "1",
    "Csharp2.png/Dflat2.png": "2",
    "D2.png": "0",
    "Dsharp2.png/Eflat2.png": "1 + 2",
    "E2.png/Fflat2.png": "1",
    "F2.png": "2 + 3, 2",
    "Fsharp2.png/Gflat2.png": "1 + 2, 0",
    "G2.png": "1",
    "Gsharp2.png/Aflat2.png": "2",
    "A2.png": "0",
    "Asharp2.png/Bflat2.png": "2 + 3",
    "B2.png/Cflat3.png": "1 + 2",
    "C3.png": "1"
  },
  D: {
    "Fsharp0.png/Gflat0.png": "1 + 2 + 3",
    "G0.png": "1 + 3",
    "Gsharp0.png/Aflat0.png": "2 + 3",
    "A0.png": "1 + 2",
    "Asharp0.png/Bflat0.png": "1",
    "B0.png/Cflat1.png": "2",
    "C1.png": "0",
    "Csharp1.png/Dflat1.png": "1 + 2 + 3",
    "D1.png": "1 + 3",
    "Dsharp1.png/Eflat1.png": "2 + 3",
    "E1.png": "1 + 2",
    "F1.png": "1",
    "Fsharp1.png/Gflat1.png": "2",
    "G1.png": "0",
    "Gsharp1.png/Aflat1.png": "2 + 3",
    "A1.png": "1 + 2",
    "Asharp1.png/Bflat1.png": "1",
    "B1.png": "2",
    "C2.png": "0",
    "Csharp2.png/Dflat2.png": "1 + 2",
    "D2.png": "1",
    "Dsharp2.png/Eflat2.png": "2 + 3, 2",
    "E2.png/Fflat2.png": "1 + 2, 0",
    "F2.png": "1",
    "Fsharp2.png/Gflat2.png": "2",
    "G2.png": "0",
    "Gsharp2.png/Aflat2.png": "2 + 3",
    "A2.png": "1 + 2",
    "Asharp2.png/Bflat2.png": "1",
    "B2.png/Cflat3.png": "2",
    "C3.png": "0"
  },
  Eb: {
    "Fsharp0.png/Gflat0.png": "1 + 3",
    "G0.png": "2 + 3",
    "Gsharp0.png/Aflat0.png": "1 + 2",
    "A0.png": "1",
    "Asharp0.png/Bflat0.png": "2",
    "B0.png/Cflat1.png": "0",
    "C1.png": "1 + 2 + 3",
    "Csharp1.png/Dflat1.png": "1 + 3",
    "D1.png": "2 + 3",
    "Dsharp1.png/Eflat1.png": "1 + 2",
    "E1.png": "1",
    "F1.png": "2",
    "Fsharp1.png/Gflat1.png": "0",
    "G1.png": "2 + 3",
    "Gsharp1.png/Aflat1.png": "1 + 2",
    "A1.png": "1",
    "Asharp1.png/Bflat1.png": "2",
    "B1.png": "0",
    "C2.png": "1 + 2",
    "Csharp2.png/Dflat2.png": "1",
    "D2.png": "2 + 3, 2",
    "Dsharp2.png/Eflat2.png": "1 + 2, 0",
    "E2.png/Fflat2.png": "1",
    "F2.png": "2",
    "Fsharp2.png/Gflat2.png": "0",
    "G2.png": "2 + 3",
    "Gsharp2.png/Aflat2.png": "1 + 2",
    "A2.png": "1",
    "Asharp2.png/Bflat2.png": "2",
    "B2.png/Cflat3.png": "out of bounds",
    "C3.png": "out of bounds"
  },
  E: {
    "Fsharp0.png/Gflat0.png": "2 + 3",
    "G0.png": "1 + 2",
    "Gsharp0.png/Aflat0.png": "1",
    "A0.png": "2",
    "Asharp0.png/Bflat0.png": "0",
    "B0.png/Cflat1.png": "1 + 2 + 3",
    "C1.png": "1 + 3",
    "Csharp1.png/Dflat1.png": "2 + 3",
    "D1.png": "1 + 2",
    "Dsharp1.png/Eflat1.png": "1",
    "E1.png": "2",
    "F1.png": "0",
    "Fsharp1.png/Gflat1.png": "2 + 3",
    "G1.png": "1 + 2",
    "Gsharp1.png/Aflat1.png": "1",
    "A1.png": "2",
    "Asharp1.png/Bflat1.png": "0",
    "B1.png": "1 + 2",
    "C2.png": "1",
    "Csharp2.png/Dflat2.png": "2 + 3, 2",
    "D2.png": "1 + 2, 0",
    "Dsharp2.png/Eflat2.png": "1",
    "E2.png/Fflat2.png": "2",
    "F2.png": "0",
    "Fsharp2.png/Gflat2.png": "2 + 3",
    "G2.png": "1 + 2",
    "Gsharp2.png/Aflat2.png": "1",
    "A2.png": "2",
    "Asharp2.png/Bflat2.png": "0",
    "B2.png/Cflat3.png": "out of bounds",
    "C3.png": "out of bounds"
  },
  F: {
    "Fsharp0.png/Gflat0.png": "1 + 2",
    "G0.png": "1",
    "Gsharp0.png/Aflat0.png": "2",
    "A0.png": "0",
    "Asharp0.png/Bflat0.png": "1 + 2 + 3",
    "B0.png/Cflat1.png": "1 + 3",
    "C1.png": "2 + 3",
    "Csharp1.png/Dflat1.png": "1 + 2",
    "D1.png": "1",
    "Dsharp1.png/Eflat1.png": "2",
    "E1.png": "0",
    "F1.png": "2 + 3",
    "Fsharp1.png/Gflat1.png": "1 + 2",
    "G1.png": "1",
    "Gsharp1.png/Aflat1.png": "2",
    "A1.png": "0",
    "Asharp1.png/Bflat1.png": "1 + 2",
    "B1.png": "1",
    "C2.png": "2 + 3, 2",
    "Csharp2.png/Dflat2.png": "1 + 2, 0",
    "D2.png": "1",
    "Dsharp2.png/Eflat2.png": "2",
    "E2.png/Fflat2.png": "0",
    "F2.png": "2 + 3",
    "Fsharp2.png/Gflat2.png": "1 + 2",
    "G2.png": "1",
    "Gsharp2.png/Aflat2.png": "2",
    "A2.png": "0",
    "Asharp2.png/Bflat2.png": "out of bounds",
    "B2.png/Cflat3.png": "out of bounds",
    "C3.png": "out of bounds"
  },
  G: {
    "Fsharp0.png/Gflat0.png": "2",
    "G0.png": "0",
    "Gsharp0.png/Aflat0.png": "1 + 2 + 3",
    "A0.png": "1 + 3",
    "Asharp0.png/Bflat0.png": "2 + 3",
    "B0.png/Cflat1.png": "1 + 2",
    "C1.png": "1",
    "Csharp1.png/Dflat1.png": "2",
    "D1.png": "0",
    "Dsharp1.png/Eflat1.png": "2 + 3",
    "E1.png": "1 + 2",
    "F1.png": "1",
    "Fsharp1.png/Gflat1.png": "2",
    "G1.png": "0",
    "Gsharp1.png/Aflat1.png": "1 + 2",
    "A1.png": "1",
    "Asharp1.png/Bflat1.png": "2 + 3, 2",
    "B1.png": "1 + 2, 0",
    "C2.png": "1",
    "Csharp2.png/Dflat2.png": "2",
    "D2.png": "0",
    "Dsharp2.png/Eflat2.png": "2 + 3",
    "E2.png/Fflat2.png": "1 + 2",
    "F2.png": "1",
    "Fsharp2.png/Gflat2.png": "2",
    "G2.png": "0",
    "Gsharp2.png/Aflat2.png": "out of bounds",
    "A2.png": "out of bounds",
    "Asharp2.png/Bflat2.png": "out of bounds",
    "B2.png/Cflat3.png": "out of bounds",
    "C3.png": "out of bounds"
  }
};

// Normalize fingering strings to an array of canonical comma-separated digits or null
function normalizeFingeringAlternatives(raw) {
  if (!raw || typeof raw !== 'string') return [];
  const parts = raw.split(',').map(p => p.trim());
  const alts = parts.map(part => {
    const lower = part.toLowerCase();
    if (lower.includes('out of bound') || lower.includes('out of')) return null;
    let s = part.replace(/\+/g, ',');
    s = s.replace(/[^0-9,]/g, '');
    const nums = s.split(',').map(x => x.trim()).filter(Boolean).map(Number).filter(n => !Number.isNaN(n));
    if (nums.length === 0) return null;
    const uniq = Array.from(new Set(nums)).sort((a, b) => a - b);
    return uniq.join(',');
  });
  return alts;
}

export const fingeringsByKey = {};
for (const k of Object.keys(rawFingerings)) {
  fingeringsByKey[k] = {};
  const map = rawFingerings[k] || {};
  for (const noteImg of Object.keys(map)) {
    fingeringsByKey[k][noteImg] = normalizeFingeringAlternatives(map[noteImg]);
  }
}

export default fingeringsByKey;
